<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_cms_database_form\n{\n\tfunction recordForm( $record, $category, $database, $page, $title, $hasModOptions, $id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $class='' ) {\n\t\t$return = '';\n\t\t$return .= <<<IPSCONTENT\n\n\nIPSCONTENT;\n\n$modOptions = array( 'create_record_state', 'record_expiry_date', 'record_pinned', 'record_allow_comments', 'record_comment_cutoff', 'record_meta_keywords', 'record_meta_description' );\n$return .= <<<IPSCONTENT\n\n\nIPSCONTENT;\n\nif ( !\\IPS\\Widget\\Request::i()->isAjax() ):\n$return .= \\IPS\\cms\\Theme::i()->getTemplate( \"global\", \"core\" )->pageHeader( \\IPS\\Member::loggedIn()->language()->addToStack( $title ) );\nendif;\n$return .= <<<IPSCONTENT\n\n\n\nIPSCONTENT;\n\n$guestPostBeforeRegister = ( !\\IPS\\Member::loggedIn()->member_id ) ? !$category->can( 'add', \\IPS\\Member::loggedIn(), FALSE ) : FALSE;\n$return .= <<<IPSCONTENT\n\n\nIPSCONTENT;\n\n$recordClass = 'IPS\\cms\\Records' . $database->_id;\n$return .= <<<IPSCONTENT\n\n\nIPSCONTENT;\n\n$modQueued = $recordClass::moderateNewItems( \\IPS\\Member::loggedIn(), $category, $guestPostBeforeRegister );\n$return .= <<<IPSCONTENT\n\n\nIPSCONTENT;\n\nif ( $guestPostBeforeRegister or $modQueued ):\n$return .= <<<IPSCONTENT\n\n\t\nIPSCONTENT;\n\n$return .= \\IPS\\cms\\Theme::i()->getTemplate( \"forms\", \"core\" )->postingInformation( $guestPostBeforeRegister, $modQueued, TRUE );\n$return .= <<<IPSCONTENT\n\n\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\n\n<div id=\"elCmsPageWrap\" data-pageid=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $page->id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\">\n<form accept-charset='utf-8' class=\"ipsFormWrap ipsFormWrap--record\" data-ipsForm data-ipsFormSubmit action=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $action, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\" method=\"post\" \nIPSCONTENT;\n\nif ( $uploadField ):\n$return .= <<<IPSCONTENT\nenctype=\"multipart\/form-data\"\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n>\n\t<input type=\"hidden\" name=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_submitted\" value=\"1\">\n\t\nIPSCONTENT;\n\nforeach ( $hiddenValues as $k => $v ):\n$return .= <<<IPSCONTENT\n\n\t\t<input type=\"hidden\" name=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\" value=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $v, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\">\n\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\nIPSCONTENT;\n\nif ( $uploadField ):\n$return .= <<<IPSCONTENT\n\n\t\t<input type=\"hidden\" name=\"MAX_FILE_SIZE\" value=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $uploadField, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\">\n\t\t<input type=\"hidden\" name=\"plupload\" value=\"\nIPSCONTENT;\n\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( md5( mt_rand() ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\">\n\t\t<input type=\"hidden\" name=\"content_record_form_container\" value=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $category->_id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\">\n\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\n\t<div class='ipsBox ipsPull'>\n\t\t<h2 class='ipsBox__header'>\nIPSCONTENT;\n\n$sprintf = array($database->recordWord(1, TRUE)); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'record_information', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<IPSCONTENT\n<\/h2>\n\t\t\nIPSCONTENT;\n\nif ( is_countable( $elements) AND \\count( $elements ) > 1 ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\nIPSCONTENT;\n\nif ( !empty( $errorTabs ) ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t<p class=\"ipsMessage ipsMessage--error ipsJS_show\">\nIPSCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'tab_error', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n<\/p>\n\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t<i-tabs class='ipsTabs' id='ipsTabs_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n' data-ipsTabBar data-ipsTabBar-contentArea='#ipsTabs_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_content'>\n\t\t\t\t<div role='tablist'>\n\t\t\t\t\t\nIPSCONTENT;\n\n$checkedTab = NULL;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\nIPSCONTENT;\n\nforeach ( $elements as $name => $content ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t<button type=\"button\" id='ipsTabs_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n' class=\"ipsTabs__tab\" role=\"tab\" aria-controls=\"ipsTabs_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_panel\" aria-selected=\"\nIPSCONTENT;\n\nif ( !$checkedTab ):\n$return .= <<<IPSCONTENT\ntrue\nIPSCONTENT;\n\n$checkedTab = $name;\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\nfalse\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\">\nIPSCONTENT;\n\n$val = \"{$name}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n<\/button>\n\t\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t<\/div>\n\t\t\t\t\nIPSCONTENT;\n\n$return .= \\IPS\\cms\\Theme::i()->getTemplate( \"global\", \"core\", 'global' )->tabScrollers(  );\n$return .= <<<IPSCONTENT\n\n\t\t\t<\/i-tabs>\n\t\t\t<div id='ipsTabs_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_content' class='ipsTabs__panels ipsTabs__panels--padded'>\n\t\t\t\t\nIPSCONTENT;\n\nforeach ( $elements as $name => $contents ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t<div id='ipsTabs_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_panel' class=\"ipsTabs__panel\" aria-labelledby=\"ipsTabs_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\" role=\"tabpanel\" \nIPSCONTENT;\n\nif ( $checkedTab != $name ):\n$return .= <<<IPSCONTENT\nhidden\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n>\n\n\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( $hasModOptions && ( $name == 'topic_mainTab' OR $name == 'content_record_form_mainTab' )  ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t<div class='ipsColumns ipsColumns--lines'>\n\t\t\t\t\t\t\t\t<div class='ipsColumns__primary'>\n\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t<ul class='ipsForm \nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $class, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n ipsForm--vertical ipsForm--record'>\n\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nforeach ( $contents as $inputName => $input ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( $inputName == 'content_field_' . $database->field_title and isset( $contents['record_static_furl_set'] ) and isset( $contents['record_static_furl'] ) ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\n$return .= \\IPS\\cms\\Theme::i()->getTemplate( \"records\", \"cms\", 'global' )->customslug( $collection, $input, $category, $page, $database, $record );\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( !\\in_array( $inputName, $modOptions ) and $inputName !== 'record_static_furl_set' and $inputName !== 'record_static_furl' ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t{$input}\n\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( $hasModOptions && $name == 'content_record_form_mainTab' ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class='ipsColumns__secondary i-basis_300'>\n\t\t\t\t\t\t\t\t\t<h3 class='i-padding_3 ipsTitle ipsTitle--h5'>\nIPSCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'cms_moderator_options', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t\t<ul class='ipsForm ipsForm--vertical ipsForm--record-mod'>\n\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nforeach ( $elements as $collection ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nforeach ( $collection as $inputName => $input ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( \\in_array( $inputName, $modOptions ) ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( $inputName == 'record_expiry_date' or $inputName == 'record_comment_cutoff' ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li class='ipsFieldRow'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"ipsFieldRow__label\" for=\"elInput_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\">\nIPSCONTENT;\n\n$val = \"{$input->name}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n<\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul class='ipsFieldRow__content cCreateTopic_date'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"date\" name=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\" id=\"elInput_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\" value=\"\nIPSCONTENT;\n\nif ( $input->value instanceof \\IPS\\DateTime ):\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->value->format('Y-m-d'), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->value, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\" class=\"ipsInput ipsInput--text\" data-control=\"date\" placeholder='\nIPSCONTENT;\n\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( str_replace( array( 'YYYY', 'MM', 'DD' ), array( \\IPS\\Member::loggedIn()->language()->addToStack('_date_format_yyyy'), \\IPS\\Member::loggedIn()->language()->addToStack('_date_format_mm'), \\IPS\\Member::loggedIn()->language()->addToStack('_date_format_dd') ), str_replace( 'Y', 'YY', \\IPS\\Member::loggedIn()->language()->preferredDateFormat() ) ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input name=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_time\" type=\"time\" size=\"12\" class=\"ipsInput ipsInput--text\" placeholder=\"\nIPSCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( '_time_format_hhmm', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n\" step=\"60\" min=\"00:00\" value=\"\nIPSCONTENT;\n\nif ( $input->value instanceof \\IPS\\DateTime ):\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->value->format('H:i'), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{$input}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t<\/div>\n\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\t\t<\/div>\t\t\n\t\t\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\n\n\t\t\t<div class=''>\n\t\t\t\t\nIPSCONTENT;\n\nif ( $hasModOptions ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t<div class='ipsColumns ipsColumns--lines'>\n\t\t\t\t\t\t<div class='ipsColumns__primary'>\n\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t<ul class='ipsForm \nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $class, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n ipsForm--vertical ipsForm--record'>\n\t\t\t\t\t\t\nIPSCONTENT;\n\nforeach ( $elements as $collection ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\nIPSCONTENT;\n\nforeach ( $collection as $inputName => $input ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( $inputName == 'content_field_' . $database->field_title and isset( $collection['record_static_furl_set'] ) and isset( $collection['record_static_furl'] ) ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\n$return .= \\IPS\\cms\\Theme::i()->getTemplate( \"records\", \"cms\", 'global' )->customslug( $collection, $input, $category, $page, $database, $record );\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( !\\in_array( $inputName, $modOptions ) and $inputName !== 'record_static_furl_set' and $inputName !== 'record_static_furl' ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t{$input}\n\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t<\/ul>\n\t\t\t\t\nIPSCONTENT;\n\nif ( $hasModOptions ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class='ipsColumns__secondary i-basis_300'>\n\t\t\t\t\t\t\t<h3 class='i-padding_3 ipsTitle ipsTitle--h5'>\nIPSCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'cms_moderator_options', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n<\/h3>\n\t\t\t\t\t\t\t<ul class='ipsForm ipsForm--vertical ipsForm--record-mod'>\n\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nforeach ( $elements as $collection ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nforeach ( $collection as $inputName => $input ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( \\in_array( $inputName, $modOptions ) ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( $inputName == 'record_expiry_date' or $inputName == 'record_comment_cutoff' ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t<li class='ipsFieldRow'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div data-role=\"unlimitedCatch\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"ipsFieldRow__label\" for=\"elInput_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\">\nIPSCONTENT;\n\n$val = \"{$input->name}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n<\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul class='ipsFieldRow__content cCreateTopic_date'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"date\" name=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\" id=\"elInput_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\" value=\"\nIPSCONTENT;\n\nif ( $input->value instanceof \\IPS\\DateTime ):\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->value->format('Y-m-d'), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->value, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\" class=\"ipsInput ipsInput--text\" data-control=\"date\" placeholder='\nIPSCONTENT;\n\nif ( $input->placeholder !== NULL ):\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->placeholder, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( str_replace( array( 'YYYY', 'MM', 'DD' ), array( \\IPS\\Member::loggedIn()->language()->addToStack('_date_format_yyyy'), \\IPS\\Member::loggedIn()->language()->addToStack('_date_format_mm'), \\IPS\\Member::loggedIn()->language()->addToStack('_date_format_dd') ), str_replace( 'Y', 'YY', \\IPS\\Member::loggedIn()->language()->preferredDateFormat() ) ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n' data-preferredFormat=\"\nIPSCONTENT;\n\nif ( $input->value instanceof \\IPS\\DateTime ):\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->value->localeDate(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->value, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\" \nIPSCONTENT;\n\nif ( $input->disabled ):\n$return .= <<<IPSCONTENT\ndisabled aria-disabled='true'\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input name=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_time\" type=\"time\" size=\"12\" class=\"ipsInput ipsInput--text\" placeholder=\"\nIPSCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( '_time_format_hhmm', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n\" step=\"60\" min=\"00:00\" value=\"\nIPSCONTENT;\n\nif ( $input->value instanceof \\IPS\\DateTime ):\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->value->format('H:i'), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( $input->options['unlimited'] !== NULL and ( !$input->disabled or $input->options['unlimited'] === $input->value ) ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'or', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" role='checkbox' data-control=\"unlimited\nIPSCONTENT;\n\nif ( $input->toggles AND \\count( $input->toggles ) ):\n$return .= <<<IPSCONTENT\n toggle\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\" name=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_unlimited\" id='\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_unlimited' value=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->options['unlimited'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\" \nIPSCONTENT;\n\nif ( $input->options['unlimited'] === $input->value ):\n$return .= <<<IPSCONTENT\nchecked\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n \nIPSCONTENT;\n\nif ( $input->options['disabled'] ):\n$return .= <<<IPSCONTENT\ndisabled\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n \nIPSCONTENT;\n\nif ( $input->toggles AND \\count( $input->toggles ) ):\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nif ( $input->toggleOn === FALSE ):\n$return .= <<<IPSCONTENT\ndata-togglesOff\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\ndata-togglesOn\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n=\"\nIPSCONTENT;\n\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( implode( ',', $input->toggles ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\"\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n aria-labelledby='label_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_unlimited' class=\"ipsInput ipsInput--toggle\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_unlimited' id='label_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_unlimited' class='ipsField_unlimited'>\nIPSCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'never', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n<\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t{$input}\n\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t<\/div>\n\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t<div class='ipsSubmitRow'>\n\t\t\t<button type='submit' class='ipsButton ipsButton--primary'>\nIPSCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'content_record_form_save', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n<\/button>\n\t\t<\/div>\n\t<\/div>\n<\/form>\n<\/div>\nIPSCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction topicCopyForm( $record, $category, $database, $page, $title, $hasModOptions, $id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $class='' ) {\n\t\t$return = '';\n\t\t$return .= <<<IPSCONTENT\n\n\nIPSCONTENT;\n\n$modOptions = array( 'create_record_state', 'record_expiry_date', 'record_pinned', 'record_allow_comments', 'record_comment_cutoff', 'record_meta_keywords', 'record_meta_description' );\n$return .= <<<IPSCONTENT\n\n\nIPSCONTENT;\n\nif ( !\\IPS\\Widget\\Request::i()->isAjax() ):\n$return .= \\IPS\\cms\\Theme::i()->getTemplate( \"global\", \"core\" )->pageHeader( \\IPS\\Member::loggedIn()->language()->addToStack( $title ) );\nendif;\n$return .= <<<IPSCONTENT\n\n<div id=\"elCmsPageWrap\" data-pageid=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $page->id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\">\n<form accept-charset='utf-8' class=\"ipsFormWrap ipsFormWrap--copy-topic\" data-ipsForm=\"true\" action=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $action, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\" method=\"post\" \nIPSCONTENT;\n\nif ( $uploadField ):\n$return .= <<<IPSCONTENT\nenctype=\"multipart\/form-data\"\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n>\n\t<input type=\"hidden\" name=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_submitted\" value=\"1\">\n\t\nIPSCONTENT;\n\nforeach ( $hiddenValues as $k => $v ):\n$return .= <<<IPSCONTENT\n\n\t\t<input type=\"hidden\" name=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\" value=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $v, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\">\n\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\nIPSCONTENT;\n\nif ( $uploadField ):\n$return .= <<<IPSCONTENT\n\n\t\t<input type=\"hidden\" name=\"MAX_FILE_SIZE\" value=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $uploadField, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\">\n\t\t<input type=\"hidden\" name=\"plupload\" value=\"\nIPSCONTENT;\n\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( md5( mt_rand() ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\">\n\t\t<input type=\"hidden\" name=\"content_record_form_container\" value=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $category->_id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\">\n\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\n\t<div class='ipsBox'>\n\t\t<h2 class='ipsBox__header'>\nIPSCONTENT;\n\n$sprintf = array($database->recordWord(1, TRUE)); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'record_information', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<IPSCONTENT\n<\/h2>\n\t\t\nIPSCONTENT;\n\nif ( \\count( $elements ) > 1 ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\nIPSCONTENT;\n\nif ( !empty( $errorTabs ) ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t<p class=\"ipsMessage ipsMessage--error ipsJS_show\">\nIPSCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'tab_error', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n<\/p>\n\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t<i-tabs class='ipsTabs' id='ipsTabs_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n' data-ipsTabBar data-ipsTabBar-contentArea='#ipsTabs_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_content'>\n\t\t\t\t<div role='tablist'>\n\t\t\t\t\t\nIPSCONTENT;\n\n$checkedTab = NULL;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\nIPSCONTENT;\n\nforeach ( $elements as $name => $content ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t<button type=\"button\" id='ipsTabs_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n' class=\"ipsTabs__tab\" role=\"tab\" aria-controls=\"ipsTabs_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_panel\" aria-selected=\"\nIPSCONTENT;\n\nif ( !$checkedTab ):\n$return .= <<<IPSCONTENT\ntrue\nIPSCONTENT;\n\n$checkedTab = $name;\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\nfalse\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\">\n\t\t\t\t\t\t\t\nIPSCONTENT;\n\n$val = \"{$name}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t<\/button>\n\t\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t<\/div>\n\t\t\t\t\nIPSCONTENT;\n\n$return .= \\IPS\\cms\\Theme::i()->getTemplate( \"global\", \"core\", 'global' )->tabScrollers(  );\n$return .= <<<IPSCONTENT\n\n\t\t\t<\/i-tabs>\n\t\t\t<div id='ipsTabs_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_content' class='ipsTabs__panels ipsTabs__panels--padded'>\n\t\t\t\t\nIPSCONTENT;\n\nforeach ( $elements as $name => $contents ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t<div id='ipsTabs_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_panel' class=\"ipsTabs__panel\" role=\"tabpanel\" aria-labelledby=\"ipsTabs_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\" \nIPSCONTENT;\n\nif ( $checkedTab != $name ):\n$return .= <<<IPSCONTENT\nhidden\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n>\n\n\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( $hasModOptions && ( $name == 'topic_mainTab' OR $name == 'content_record_form_mainTab' )  ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t<div class='ipsColumns'>\n\t\t\t\t\t\t\t\t<div class='ipsColumns__primary'>\n\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t<ul class='ipsForm \nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $class, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n ipsForm--vertical ipsForm--copy-topic'>\n\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nforeach ( $contents as $inputName => $input ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( $inputName == 'content_field_' . $database->field_title and isset( $contents['record_static_furl_set'] ) and isset( $contents['record_static_furl'] ) ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\n$return .= \\IPS\\cms\\Theme::i()->getTemplate( \"records\", \"cms\", 'global' )->customslug( $collection, $input, $category, $page, $database, $record );\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( !\\in_array( $inputName, $modOptions ) and $inputName !== 'record_static_furl_set' and $inputName !== 'record_static_furl' ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t{$input}\n\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( $hasModOptions && $name == 'content_record_form_mainTab' ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class='ipsColumns__secondary i-basis_280'>\n\t\t\t\t\t\t\t\t\t<div class='i-padding_3 i-background_2'>\n\t\t\t\t\t\t\t\t\t<h3 class='ipsTitle ipsTitle--h3'>\nIPSCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'cms_moderator_options', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t\t\t<ul class='ipsForm ipsForm--vertical ipsForm--copy-topic-mod i-margin-top_3'>\n\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nforeach ( $elements as $collection ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nforeach ( $collection as $inputName => $input ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( \\in_array( $inputName, $modOptions ) ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( $inputName == 'record_expiry_date' or $inputName == 'record_comment_cutoff' ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li class='ipsFieldRow'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"ipsFieldRow__label\" for=\"elInput_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $inputName, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\">\nIPSCONTENT;\n\n$val = \"{$input->name}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n<\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul class='ipsFieldRow__content cCreateTopic_date'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"date\" name=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\" id=\"elInput_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $inputName, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\" value=\"\nIPSCONTENT;\n\nif ( $input->value instanceof \\IPS\\DateTime ):\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->value->format('Y-m-d'), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->value, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\" class=\"ipsInput ipsInput--text\" data-control=\"date\" placeholder='\nIPSCONTENT;\n\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( str_replace( array( 'YYYY', 'MM', 'DD' ), array( \\IPS\\Member::loggedIn()->language()->addToStack('_date_format_yyyy'), \\IPS\\Member::loggedIn()->language()->addToStack('_date_format_mm'), \\IPS\\Member::loggedIn()->language()->addToStack('_date_format_dd') ), str_replace( 'Y', 'YY', \\IPS\\Member::loggedIn()->language()->preferredDateFormat() ) ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input name=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_time\" type=\"time\" size=\"12\" class=\"ipsInput ipsInput--text\" placeholder=\"\nIPSCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( '_time_format_hhmm', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n\" step=\"60\" min=\"00:00\" value=\"\nIPSCONTENT;\n\nif ( $input->value instanceof \\IPS\\DateTime ):\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->value->format('H:i'), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{$input}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t<\/div>\n\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\t\t<\/div>\t\t\n\t\t\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\n\n\t\t\t<div class='i-padding_3'>\n\t\t\t\t\nIPSCONTENT;\n\nif ( $hasModOptions ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t<div class='ipsColumns'>\n\t\t\t\t\t\t<div class='ipsColumns__primary'>\n\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t<ul class='ipsForm \nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $class, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n ipsForm--vertical ipsForm--copy-topic'>\n\t\t\t\t\t\t\nIPSCONTENT;\n\nforeach ( $elements as $collection ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\nIPSCONTENT;\n\nforeach ( $collection as $inputName => $input ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( $inputName == 'content_field_' . $database->field_title and isset( $collection['record_static_furl_set'] ) and isset( $collection['record_static_furl'] ) ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\n$return .= \\IPS\\cms\\Theme::i()->getTemplate( \"records\", \"cms\", 'global' )->customslug( $collection, $input, $category, $page, $database, $record );\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( !\\in_array( $inputName, $modOptions ) and $inputName !== 'record_static_furl_set' and $inputName !== 'record_static_furl' ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t{$input}\n\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t<\/ul>\n\t\t\t\t\nIPSCONTENT;\n\nif ( $hasModOptions ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class='ipsColumns__secondary i-basis_280'>\n\t\t\t\t\t\t\t<div class='i-padding_3 i-background_2'>\n\t\t\t\t\t\t\t<h3 class='ipsTitle ipsTitle--h3'>\nIPSCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'cms_moderator_options', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t<ul class='ipsForm ipsForm--vertical ipsForm--copy-topic-mod i-margin-top_3'>\n\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nforeach ( $elements as $collection ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nforeach ( $collection as $inputName => $input ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( \\in_array( $inputName, $modOptions ) ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( $inputName == 'record_expiry_date' or $inputName == 'record_comment_cutoff' ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<li class='ipsFieldRow'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div data-role=\"unlimitedCatch\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label class=\"ipsFieldRow__label\" for=\"elInput_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\">\nIPSCONTENT;\n\n$val = \"{$input->name}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n<\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul class='ipsFieldRow__content cCreateTopic_date'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"date\" name=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\" id=\"elInput_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\" value=\"\nIPSCONTENT;\n\nif ( $input->value instanceof \\IPS\\DateTime ):\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->value->format('Y-m-d'), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->value, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\" class=\"ipsInput ipsInput--text\" data-control=\"date\" placeholder='\nIPSCONTENT;\n\nif ( $input->placeholder !== NULL ):\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->placeholder, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( str_replace( array( 'YYYY', 'MM', 'DD' ), array( \\IPS\\Member::loggedIn()->language()->addToStack('_date_format_yyyy'), \\IPS\\Member::loggedIn()->language()->addToStack('_date_format_mm'), \\IPS\\Member::loggedIn()->language()->addToStack('_date_format_dd') ), str_replace( 'Y', 'YY', \\IPS\\Member::loggedIn()->language()->preferredDateFormat() ) ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n' data-preferredFormat=\"\nIPSCONTENT;\n\nif ( $input->value instanceof \\IPS\\DateTime ):\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->value->localeDate(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->value, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\" \nIPSCONTENT;\n\nif ( $input->disabled ):\n$return .= <<<IPSCONTENT\ndisabled aria-disabled='true'\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input name=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_time\" type=\"time\" size=\"12\" class=\"ipsInput ipsInput--text\" placeholder=\"\nIPSCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( '_time_format_hhmm', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n\" step=\"60\" min=\"00:00\" value=\"\nIPSCONTENT;\n\nif ( $input->value instanceof \\IPS\\DateTime ):\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->value->format('H:i'), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nif ( $input->options['unlimited'] !== NULL and ( !$input->disabled or $input->options['unlimited'] === $input->value ) ):\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'or', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" role='checkbox' data-control=\"unlimited\nIPSCONTENT;\n\nif ( \\count( $input->toggles ) ):\n$return .= <<<IPSCONTENT\n toggle\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\" name=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_unlimited\" id='\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_unlimited' value=\"\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->options['unlimited'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\" \nIPSCONTENT;\n\nif ( $input->options['unlimited'] === $input->value ):\n$return .= <<<IPSCONTENT\nchecked\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n \nIPSCONTENT;\n\nif ( $input->options['disabled'] ):\n$return .= <<<IPSCONTENT\ndisabled\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n \nIPSCONTENT;\n\nif ( \\count( $input->toggles ) ):\n$return .= <<<IPSCONTENT\n\nIPSCONTENT;\n\nif ( $input->toggleOn === FALSE ):\n$return .= <<<IPSCONTENT\ndata-togglesOff\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\ndata-togglesOn\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n=\"\nIPSCONTENT;\n\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( implode( ',', $input->toggles ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n\"\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n aria-labelledby='label_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_unlimited' class=\"ipsInput ipsInput--toggle\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label for='\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_unlimited' id='label_\nIPSCONTENT;\n$return .= \\IPS\\Theme\\Template::htmlspecialchars( $input->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<IPSCONTENT\n_unlimited' class='ipsField_unlimited'>\nIPSCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'never', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n<\/label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nelse:\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{$input}\n\t\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t\t\nIPSCONTENT;\n\nendforeach;\n$return .= <<<IPSCONTENT\n\n\t\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t\t<\/div>\n\t\t\nIPSCONTENT;\n\nendif;\n$return .= <<<IPSCONTENT\n\n\t\t<div class='ipsSubmitRow'>\n\t\t\t<button type='submit' class='ipsButton ipsButton--primary'>\nIPSCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'content_record_form_save', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<IPSCONTENT\n<\/button>\n\t\t<\/div>\n\t<\/div>\n<\/form>\n<\/div>\nIPSCONTENT;\n\n\t\treturn $return;\n}}"
VALUE;
